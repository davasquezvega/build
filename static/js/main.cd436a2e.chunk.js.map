{"version":3,"sources":["pages/Home.js","pages/LoginRedirect.js","pages/Register.js","pages/Login.js","App.js","pages/LoginGithub.js","index.js"],"names":["providersNames","LoginButton","props","href","process","providerName","style","width","LogoutButton","onClick","Home","buttons","text","useState","localStorage","getItem","isLogged","setIsLogged","e","preventDefault","removeItem","listStyleType","map","i","key","LoginRedirect","setText","location","useLocation","params","useParams","history","useHistory","useEffect","fetch","search","then","res","status","Error","json","setItem","jwt","user","username","setTimeout","push","catch","err","console","log","register","handleChange","a","persist","setState","form","state","target","name","value","peticionPost","axios","post","email","password","response","data","error","this","className","htmlFor","type","id","onChange","Component","Login","identifier","placeholder","App","exact","path","component","Register","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cd436a2e.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\n\r\nconst backendUrl = process.env.REACT_APP_BACKEND_URL;\r\n\r\nconst providersNames = [\r\n  'github',\r\n  'facebook',\r\n  'google',\r\n  'twitter',\r\n  'discord',\r\n  'twitch',\r\n  'instagram',\r\n  'vk',\r\n];\r\n\r\nconst LoginButton = (props) => <a href={`${backendUrl}/connect/${props.providerName}`}>\r\n    <button style={{ width: '150px' }}>Connect to {props.providerName}</button>\r\n  </a>;\r\n\r\nconst LogoutButton = (props) => <button onClick={props.onClick}>Logout</button>;\r\n\r\nconst Home = (props) => {\r\n  const [isLogged, setIsLogged] = useState(!!localStorage.getItem('jwt'));\r\n\r\n  const logout = (e) => {\r\n    e.preventDefault();\r\n    localStorage.removeItem('jwt');\r\n    localStorage.removeItem('username');\r\n    setIsLogged(false);\r\n  };\r\n\r\n  let buttons;\r\n\r\n  if (isLogged) {\r\n    buttons = <LogoutButton onClick={logout} />;\r\n  } else {\r\n    buttons = <ul style={{ listStyleType: 'none' }}>\r\n      {providersNames.map((providerName, i) => <li key={providerName}>\r\n        <LoginButton providerName={providerName}/>\r\n        </li>)}\r\n    </ul>;\r\n  }\r\n\r\n  let text;\r\n\r\n  if (isLogged) {\r\n    text = `Welcome ${localStorage.getItem('username')}, you are connected!`;\r\n  } else {\r\n    text = 'You are not connected. Please log in.';\r\n  }\r\n\r\n  return <div>\r\n    <p>{text}</p>\r\n    {buttons}\r\n  </div>;\r\n}\r\n\r\nexport default Home;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useHistory, useLocation, useParams } from \"react-router-dom\";\r\n\r\nconst backendUrl = process.env.REACT_APP_BACKEND_URL;\r\n\r\nconst LoginRedirect = (props) => {\r\n  const [text, setText] = useState('Loading...');\r\n  const location = useLocation();\r\n  const params = useParams();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    // Successfully logged with the provider\r\n    // Now logging with strapi by using the access_token (given by the provider) in props.location.search\r\n    fetch(`${backendUrl}/auth/${params.providerName}/callback${location.search}`)\r\n      .then(res => {\r\n        if (res.status !== 200) {\r\n          throw new Error(`Couldn't login to Strapi. Status: ${res.status}`);\r\n        }\r\n        return res;\r\n      })\r\n      .then(res => res.json())\r\n      .then(res => {\r\n        // Successfully logged with Strapi\r\n        // Now saving the jwt to use it for future authenticated requests to Strapi\r\n        localStorage.setItem('jwt', res.jwt);\r\n        localStorage.setItem('username', res.user.username);\r\n        setText('You have been successfully logged in. You will be redirected in a few seconds...');\r\n        setTimeout(() => history.push('/'), 3000); // Redirect to homepage after 3 sec\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n        setText('An error occurred, please see the developer console.')\r\n      });\r\n  }, [history, location.search, params.providerName]);\r\n\r\n  return <p>{text}</p>\r\n};\r\n\r\nexport default LoginRedirect;\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst backendUrl = process.env.REACT_APP_BACKEND_URL;\r\n\r\n\r\n\r\nexport default class register extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n    \r\n        this.state = {\r\n            form:{\r\n                email:'',\r\n                password:''\r\n            }\r\n             \r\n        }\r\n    }\r\n    handleChange=async(e)=>{\r\n        e.persist();\r\n        await this.setState({\r\n            form:{\r\n                ...this.state.form,\r\n                [e.target.name]:e.target.value\r\n            }\r\n        })\r\n        console.log(this.state.form)\r\n    }\r\n\r\n    peticionPost=()=>{\r\n        // Request API.\r\n    // Add your own code here to customize or restrict how the public can register new users.\r\n    axios\r\n    .post(`${backendUrl}/auth/local/register`, {\r\n    username: this.state.form.email,\r\n    email: this.state.form.email,\r\n    password: this.state.form.password,\r\n    })\r\n    .then(response => {\r\n    // Handle success.\r\n    this.setState({form:null})\r\n    console.log('Well done!');\r\n    console.log('User profile', response.data.user);\r\n    console.log('User token', response.data.jwt);\r\n    })\r\n    .catch(error => {\r\n    // Handle error.\r\n    console.log('An error occurred:', error.response);\r\n    });\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n    }\r\n    \r\n\r\n    \r\n    render() {\r\n        const form = this.state.form;\r\n        return (\r\n            <div className=\"register\">                \r\n                <div className=\"card\">\r\n                    <div className=\"card-header\">Regístrate</div>\r\n                    <div className=\"card-body form-group\">\r\n                        <label htmlFor=\"email\">email</label>\r\n                        <input type=\"email\" className=\"form-control\" id=\"email\" name=\"email\" value={form?form.email:''} onChange={this.handleChange}/>\r\n                        <label htmlFor=\"password\">password</label>\r\n                        <input type=\"password\" className=\"form-control\" id=\"password\" name=\"password\" value={form?form.password:''} onChange={this.handleChange}/>\r\n                        <button className=\"btn btn-primary\" onClick={()=>this.peticionPost()}>Registrarse</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport axios from 'axios';\r\n\r\nconst backendUrl = process.env.REACT_APP_BACKEND_URL;\r\n\r\nexport default class Login extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n    \r\n        this.state = {\r\n            form:{\r\n                email:'',\r\n                password:''\r\n            }\r\n             \r\n        }\r\n    }\r\n\r\n    peticionPost=()=>{\r\n\r\n        // Request API.\r\n        axios\r\n        .post(`${backendUrl}/auth/local`, {\r\n            identifier: this.state.form.email,\r\n            password: this.state.form.password,\r\n        })\r\n        .then(response => {\r\n            // Handle success.\r\n            console.log('Well done!');\r\n            console.log('User profile', response.data.user);\r\n            console.log('User token', response.data.jwt);\r\n        })\r\n        .catch(error => {\r\n            // Handle error.\r\n            console.log('An error occurred:', error.response);\r\n        });\r\n    }\r\n\r\n    handleChange=async(e)=>{\r\n        e.persist();\r\n        this.setState({\r\n            form:{\r\n                ...this.state.form,\r\n                [e.target.name]:e.target.value\r\n            }\r\n        })\r\n    }\r\n    \r\n    render() {\r\n        const form = this.state.form;\r\n        return (\r\n            <div className=\"login\">                \r\n                <div className=\"card\">\r\n                    <div className=\"card-header\">Logguéate</div>\r\n                    <div className=\"card-body form-group\">\r\n                        <label htmlFor=\"email\">email</label>\r\n                        <input type=\"email\" className=\"form-control\" id=\"email\" name=\"email\" value={form?form.email:''} placeholder=\"digita tu correo electrónico\" onChange={this.handleChange}/>\r\n                        <label htmlFor=\"password\">password</label>\r\n                        <input type=\"password\" className=\"form-control\" id=\"password\" name=\"password\" value={form?form.password:''} placeholder=\"digita tu contraseña\" onChange={this.handleChange}/>\r\n                        <button className=\"btn btn-primary\" onClick={()=>this.peticionPost()}>Ingresar</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n} from \"react-router-dom\";\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\n\r\nimport Home from './pages/Home';\r\nimport LoginRedirect from './pages/LoginRedirect';\r\nimport Register from \"./pages/Register\";\r\nimport Login from \"./pages/Login\";\r\nimport LoginGithub from \"./pages/LoginGithub\";\r\n\r\nconst App = () => {\r\n  if (!process.env.REACT_APP_BACKEND_URL) {\r\n    return <p>\r\n        Please specify your backend url with the <a href=\"https://create-react-app.dev/docs/adding-custom-environment-variables/\" target=\"_blank\" rel=\"noopener noreferrer\">environment variable</a>:<br />\r\n        <b>REACT_APP_BACKEND_URL</b>.<br />\r\n        <br />\r\n        For example launch this app with:<br />\r\n        <b>REACT_APP_BACKEND_URL=http://localhost:1337 yarn start</b>\r\n      </p>;\r\n  }\r\n\r\n  return (\r\n    <Router>\r\n        <Switch>\r\n          <Route exact path=\"/connect/github/redirect\" component={LoginRedirect}/>\r\n          <Route exact path=\"/connect/:providerName/redirect\" component={LoginRedirect} />\r\n          <Route exact path=\"/\" component={Home} />\r\n          <Route exact path=\"/register\" component={Register}/>\r\n          <Route exact path=\"/login\" component={Login}/>\r\n        </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import axios from 'axios'\r\nimport React, { Component } from 'react'\r\n\r\nexport default class LoginGithub extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n    \r\n        this.state = {\r\n             \r\n        }\r\n    }\r\n    \r\ncomponentDidMount() {\r\n}\r\n\r\n    \r\n    render() {\r\n        return (\r\n            <div>\r\n                este es el landing page de github                 \r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}